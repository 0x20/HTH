\usepackage{pdfescape}
\makeatletter


\let\saved@hyper@linkurl\hyper@linkurl
\renewcommand*{\hyper@linkurl}[2]{%
  \saved@hyper@linkurl{#1}{#2}%
  \footnote{\protect\url{#1}}%
}

\let\href@original\href
\renewcommand*{\href}{\protect\href@original}


\makeatother
